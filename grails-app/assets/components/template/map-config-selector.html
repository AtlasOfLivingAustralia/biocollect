<div class="row-fluid">
    <div class="span5">
        <h5><strong>Base layers</strong></h5>
        <div class="row-fluid">
            <div class="span12">
                <div class="form-horizontal">
                    <div class="control-group">
                        <div class="control-label">
                            Choose base layer
                            <a href="#" class="helphover" data-bind="popover: {content:'Select a base layer e.g. - Satellite map, Road map, Topographic map etc.'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </div>
                        <div class="controls">
                            <select data-bind="options: allBaseLayers, optionsText: 'displayText', value: selectedBaseLayer, optionCaption: 'Choose base layer ...'"></select>
                            <button class="btn btn-default add-base-layer" data-bind="click: addBaseLayerClickHandler, disable: allBaseLayers().length == 0"><i
                                    class="icon icon-plus"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>
                            Display name
                            <a href="#" class="helphover" data-bind="popover: {content:'Change that text appearing on the layer selection panel'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                        <th>
                            Is default?
                            <a href="#" class="helphover" data-bind="popover: {content:'The selected layer will be show by default
                    to the users. Users will have the option to select other base layers you have selected here.'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                        <th>
                            Actions
                            <a href="#" class="helphover" data-bind="popover: {content:'<strong>Remove</strong> Removes selected base layer.<br>
                    <strong>Move up</strong> Change the order of base layers by moving this base layer up.<br>
                            <strong>Move down</strong> Change the order of base layers by moving this base layer down.'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                        <!-- ko foreach: baseLayers -->
                        <tr>
                            <td>
                                <!-- ko text:code --> <!-- /ko -->
                            </td>
                            <td>
                                <input class="full-width-input" type="text" data-bind="value: displayText"/>
                            </td>
                            <td>
                                <input type="radio" name="defaultBaseMap"
                                       data-bind="checked: $parent.codeChecked, value: code"/>
                            </td>
                            <td>
                                <div class="row-fluid">
                                    <div class="span12">
                                        <button class="btn btn-mini btn-danger" data-bind="click: removeBaseLayer"><i
                                                class="icon-minus icon-white remove-base-layer"></i> Remove</button>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="span12">
                                        <button class="btn btn-mini  btn-default move-up-base-layer" data-bind="click: moveUp, enable: canMoveUp($data)"><i
                                                class="icon-arrow-up"></i> Move up
                                        </button>
                                        <button class="btn btn-mini btn-default move-down-base-layer" data-bind="click: moveDown, enable: canMoveDown($data)"><i
                                                class="icon-arrow-down"></i> Move down
                                        </button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <!-- /ko -->
                        <tr data-bind="if: baseLayers().length == 0">
                            <td colspan="4">
                                No base layer selected.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="span7">
        <h5><strong>Overlays</strong></h5>
        <div class="row-fluid">
            <div class="span12">
                <div class="form-horizontal">
                    <div class="control-group">
                        <div class="control-label">
                            Choose overlay
                            <a href="#" class="helphover" data-bind="popover: {content:'Select an overlay e.g. Australian Coral Ecoregions, Local Gov. Areas etc.'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </div>
                        <div class="controls">
                            <select data-bind="options: allOverlays, optionsText: 'title', value: selectedOverlay, optionCaption: 'Choose overlay ...'"></select>
                            <button class="btn btn-default add-overlay" data-bind="click: addOverlayClickHandler, disable: allOverlays().length == 0"><i
                                    class="icon icon-plus"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th>
                            Name
                        </th>
                        <th>
                            Display name
                            <a href="#" class="helphover" data-bind="popover: {content:'Change that text appearing on the layer selection panel'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                        <th>
                            Is selected by default?
                            <a href="#" class="helphover" data-bind="popover: {content:'The selected overlay will be shown on map by default.
                    Others are available for selection on the layer control (present on map at top right corner)'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                        <th>
                            Opacity
                            <a href="#" class="helphover" data-bind="popover: {content:'Opacity of the overlay when displayed on map'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                        <th>
                            Actions
                            <a href="#" class="helphover" data-bind="popover: {content:'<strong>Remove</strong>  Removes selected overlay.<br>
                    <strong>Move up</strong> Change the order of overlays by moving this overlay up.<br>
                            <strong>Move down</strong> Change the order of overlays by moving this overlay down.<br>
                            <strong>More settings</strong> Show or hide overlay options'}">
                                <i class="icon-question-sign"></i>
                            </a>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- ko foreach: overlays -->
                    <tr>
                        <td><!-- ko text:alaName --> <!-- /ko --></td>
                        <td><input class="full-width-input" type="text" data-bind="value: title"/></td>
                        <td><input type="checkbox" data-bind="checked: defaultSelected"/></td>
                        <td>
                            <div class="row-fluid">
                                <div class="span12">
                                    <div class="slider" data-bind="slider: {min: 0, max: 1, step:0.1, model: opacity}"></div>
                                </div>
                            </div>
                        <td>
                            <div class="row-fluid">
                                <div class="span12">
                                    <!-- ko if: Biocollect.MapUtilities.isContextualLayer(alaId) || $parent.showAdvancedFeatures -->
                                    <button class="btn btn-mini btn-default" data-toggle="collapse"
                                            data-bind="attr: {'data-target': '#overlay-' + $index()},click: $parent.noDefaultAction"> More settings
                                    </button>
                                    <!-- /ko -->
                                    <button class="btn btn-mini btn-danger" data-bind="click: removeOverlay"><i
                                            class="icon-minus icon-white remove-overlay"></i> Remove
                                    </button>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <button class="btn btn-mini btn-default move-up-overlay" data-bind="click: moveUp, enable: canMoveUp($data)"><i
                                            class="icon-arrow-up"></i> Move up
                                    </button>
                                    <button class="btn btn-mini btn-default move-up-overlay" data-bind="click: moveDown, enable: canMoveDown($data)"><i
                                            class="icon-arrow-down"></i> Move down
                                    </button>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <!-- ko if: Biocollect.MapUtilities.isContextualLayer(alaId) || $parent.showAdvancedFeatures -->
                    <tr>
                        <td colspan="5">
                            <div class="form-horizontal collapse" data-bind="attr: {id: 'overlay-' + $index()}">
                                <!-- ko if: Biocollect.MapUtilities.isContextualLayer(alaId) -->
                                <div class="control-group">
                                    <label class="control-label">
                                        Change the colour of overlay?
                                        <a href="#" class="helphover" data-bind="popover: {content:'It is possible to change the rendering of a contextual layer e.g. Australian state and territories.'}">
                                            <i class="icon-question-sign"></i>
                                        </a>
                                    </label>
                                    <div class="controls">
                                        <input type="checkbox"
                                               data-bind="checked: changeLayerColour"/>
                                    </div>
                                </div>
                                <!-- ko if: changeLayerColour -->
                                <div class="control-group">
                                    <label class="control-label">
                                        Border colour
                                            <a href="#" class="helphover" data-bind="popover: {content:'Overlay can have many shapes. Set border colour of the shape.'}">
                                            <i class="icon-question-sign"></i>
                                        </a>
                                    </label>
                                    <div class="controls">
                                        <input type="text"
                                               data-bind="value: boundaryColour" placeholder="hex colour e.g. #fdb863"/>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">
                                        Fill colour
                                        <a href="#" class="helphover" data-bind="popover: {content:'Set fill colour of the shape'}">
                                            <i class="icon-question-sign"></i>
                                        </a>
                                    </label>
                                    <div class="controls">
                                        <input type="text"
                                               data-bind="value: fillColour" placeholder="hex colour e.g. #fdb863"/>
                                    </div>
                                </div>
                                <!-- /ko -->
                                <div class="control-group">
                                    <label class="control-label">
                                        Display label on overlay
                                        <a href="#" class="helphover" data-bind="popover: {content:'The value of each shape can be displayed on the map. Check to display the text on overlay.'}">
                                            <i class="icon-question-sign"></i>
                                        </a>
                                    </label>
                                    <div class="controls">
                                        <input type="checkbox"
                                               data-bind="checked: showPropertyName"/>
                                    </div>
                                </div>
                                <div data-bind="slideVisible: showPropertyName">
                                    <div class="control-group">
                                        <label class="control-label">
                                            Colour of label text
                                            <a href="#" class="helphover" data-bind="popover: {content:'Set label colour'}">
                                                <i class="icon-question-sign"></i>
                                            </a>
                                        </label>
                                        <div class="controls">
                                            <input type="text"
                                                   data-bind="value: textColour" placeholder="hex colour e.g. #fdb863"/>
                                        </div>
                                    </div>
                                </div>
                                <!-- /ko -->
                                <!-- ko if: $parent.showAdvancedFeatures -->
                                <div class="control-group">
                                    <label class="control-label">User restriction</label>
                                    <div class="controls">
                                        <select data-bind="value: userAccessRestriction">
                                            <option value="anyUser" selected>Any user</option>
                                            <option value="loggedInUser" selected>Logged in user</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">In layer shape list</label>
                                    <div class="controls">
                                        <input type="checkbox"
                                               data-bind="checked: inLayerShapeList"/>
                                    </div>
                                </div>
                                <!-- /ko -->
                            </div>
                        </td>
                    </tr>
                    <!-- /ko -->
                    <!-- /ko -->
                    <tr data-bind="visible: overlays().length == 0">
                        <td colspan="5">
                            No overlay selected.
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>
<div class="row-fluid" data-bind="slideVisible: (baseLayers().length > 0 || overlays().length > 0) && showMap()">
    <div class="span12">
        <div id="previewBaseLayer" style="width: 100%; height: 500px" data-bind="attr: {'data-leaflet-img': fcConfig.leafletAssetURL}">
        </div>
    </div>
</div>
<div class="row-fluid">
    <div class="span12">
        <div class="alert alert-info">
            <div class="row-fluid">
                <div class="span5">
                    <h5><strong>Base Layer Help!</strong></h5>
                    <p>
                        To control the appearance of the map users will see, do the following:
                    </p>
                    <ol>
                        <li class="alert-info">
                            Select the base layer(s) that you want users to be able choose from.
                        </li>
                        <li class="alert-info">
                            Select which one of the layers you want to display on forms by default.
                        </li>
                        <li class="alert-info">
                            Move the display sequence of available layers up/down as required.
                        </li>
                    </ol>
                </div>
                <div class="span7">
                    <h5><strong>Overlay Help!</strong></h5>
                    <p>
                        If you want to change the default overlay selections, please follow steps 1-3 as per base layer settings.
                        Note that you can select multiple overlays to display by default.
                        You can also change the opacity (transparency) of each layer. Limitted styling of layer is also available.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>